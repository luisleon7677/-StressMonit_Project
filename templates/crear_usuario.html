{% extends "base.html" %}
{% block content %}
<link rel="stylesheet" href="/static/usuarios.css">
<link rel="stylesheet" href="/static/create_usuario.css"><!-- si lo pones aparte -->

<div class="usuarios-container">
  <div class="titulo-principal">
    <h1>Crear nuevo usuario</h1>
  </div>

  <form id="create-user-form" class="form-create-user"
        method="POST" action="{{ url_for('crear_usuario_route') }}">

    <!-- Nombre completo -->
    <div class="form-group">
      <label for="nombre">Nombre completo</label>
      <input type="text" id="nombre" name="nombre"
             placeholder="ej. Leonardo Luis" required>
    </div>

    <!-- Usuario -->
    <div class="form-group">
      <label for="username">Usuario</label>
      <input type="text" id="username" name="username"
             placeholder="ej. leonardol" required>
    </div>

    <!-- Contraseña -->
    <div class="form-group">
      <label for="password">Contraseña</label>
      <input type="password" id="password" name="password"
             placeholder="ej. 12345*698@" required>
    </div>

    <!-- Mensaje de error -->
    <p id="mensaje-error"></p>

    <!-- Botones -->
    <div class="form-actions">
      <button type="submit" class="btn-primary">Crear usuario</button>
      <a href="{{ url_for('usuarios') }}" class="link-cancel">Cancelar</a>
    </div>
  </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const inputs = [
    document.getElementById('nombre'),
    document.getElementById('username'),
    document.getElementById('password')
  ];
  const btn = document.querySelector('.btn-primary');
  const msg = document.getElementById('mensaje-error');

  function validar() {
    const faltan = inputs.some(i => !i.value.trim());
    btn.disabled = faltan;
    msg.textContent = faltan ? 'Campos requeridos a completar' : '';
  }

  inputs.forEach(i => i.addEventListener('input', validar));
  validar();
});
</script>
{% endblock %}
